<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form T√¨nh Y√™u</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("loveForm");

      form.addEventListener("submit", function (event) {
        event.preventDefault();

        const formData = new FormData(this);
        const selectOptions = formData.getAll("option");

        if (selectOptions.length === 0) {
          Swal.fire({
            icon: "warning",
            title: "∆† k√¨a...",
            text: "C·ª•c d√†ng ch∆∞a c√≥ ch·ªçn √≥ üò¢",
          });
          return;
        }
        Swal.fire({
          title: "Em ch·∫Øc ch∆∞a??? üò≥",
          icon: "question",
          showCancelButton: true,
          confirmButtonText: "Ch·∫Øc ch·∫Øn r√πi ü•∫",
          cancelButtonText: "ƒê·ª£i ƒë√£...",
        }).then((result) => {
          if (!result.isConfirmed) return;
          fetch("https://formspree.io/f/mrblbodp", {
            method: "POST",
            headers: {
              Accept: "application/json",
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              choices: selectOptions,
            }),
          })
            .then((response) => {
              if (response.ok) {
                Swal.fire({
                  icon: "success",
                  title: "G·ª≠i th√†nh c√¥ng üòò",
                  text: "Anh nh·∫≠n nh√≥ üíå",
                }).then(() => {
                  for (let i = 0; i < 60; i++) {
                    setTimeout(createFallingImage, i * 100); // m·ªói ·∫£nh r∆°i c√°ch nhau 300ms
                  }
                });
              } else {
                Swal.fire({
                  icon: "error",
                  title: "L·ªói √≤i üò•",
                  text: "C√≥ g√¨ ƒë√≥ sai sai, g·ª≠i kh√¥ng ƒë∆∞·ª£c.",
                });
              }
            })
            .catch(() => {
              Swal.fire({
                icon: "error",
                title: "Hic üòì",
                text: "Kh√¥ng th·ªÉ k·∫øt n·ªëi t·ªõi m√°y ch·ªß!",
              });
            });
        });
      });
    });
    const imgSource = [
      "img/hinh1.jpg",
      "img/hinh2.jpg",
      "img/hinh3.jpg",
      "img/hinh4.jpg",
      "img/hinh5.jpg",
      "img/hinh6.jpg",
      "img/hinh7.jpg"
    ];
    function createFallingImage() {
  const container = document.createElement("div");
  const img = document.createElement("img");
  const randomImg = imgSource[Math.floor(Math.random() * imgSource.length)];

  img.src = randomImg;
  container.classList.add("falling-photo");

  // Random v·ªã tr√≠ ngang (tr√°i)
  container.style.left = Math.random() * 90 + "vw";

  // Random g√≥c xoay ban ƒë·∫ßu (d√πng bi·∫øn custom CSS)
  const rotateDeg = Math.floor(Math.random() * 60 - 30); // -30 ƒë·∫øn +30 ƒë·ªô
  container.style.setProperty('--random-rotate', `${rotateDeg}deg`);

  container.appendChild(img);
  document.getElementById("falling-images-container").appendChild(container);

  // Xo√° sau khi r∆°i xong
  setTimeout(() => container.remove(), 6000);
}
  </script>

  <body>
    <div class="row">
      <div class="col-md-6">
        <form
          id="loveForm"
          action="https://formspree.io/f/mrblbodp"
          method="POST"
        >
          <table class="table table-bordered table-striped my-3">
            <tr>
              <td style="background-color: #eff0fb">
                <input
                  type="checkbox"
                  name="option"
                  id="namtay"
                  value="N·∫Øm Tay"
                />
                <label for="namtay">N·∫Øm tay B·∫•y B√¨</label>
              </td>
            </tr>
            <tr>
              <td style="background-color: #ebf5fd">
                <input type="checkbox" name="option" id="hun" value="Hun" />
                <label for="hun">Th∆°mmmmmm m√¥iiiiii</label>
              </td>
            </tr>
            <tr>
              <td style="background-color: #ffecee">
                <input
                  type="checkbox"
                  name="option"
                  id="thomma"
                  value="Th∆°m M√°"
                />
                <label for="thomma">Th∆°mmmmmm m√°aaaaaaaa</label>
              </td>
            </tr>
            <tr>
              <td style="background-color: #fef9eb">
                <input
                  type="checkbox"
                  name="option"
                  id="om"
                  value="√îmmmmmmmmmm"
                />
                <label for="om">√îmmmmmmmmmm C·ª•c D√†ng</label>
              </td>
            </tr>
            <tr>
              <td style="background-color: #edfdef">
                <input type="checkbox" name="option" id="liem" value="Li·∫øm" />
                <label for="liem">Li·∫øm Thanh H√†</label>
              </td>
            </tr>
            <tr>
              <td style="background-color: #ebfdfe">
                <input
                  type="checkbox"
                  name="option"
                  id="quanh"
                  value="Qu√°nh ƒê√≠t"
                />
                <label for="quanh">Qu√°nh ƒê√≠t Em</label>
              </td>
            </tr>
          </table>
          <button
            style="
              border: none;
              color: white;
              width: 200px;
              height: 50px;
              border-radius: 50px;
              background-color: #bb5266;
            "
            type="submit"
            class="mx-auto d-block mt-3"
          >
            G·ª≠i cho B·∫•y B√¨
          </button>
        </form>
      </div>
      <div class="col-md-6">
        <img class="img-fluid" src="img/1751356988421_100.JPG" alt="" />
      </div>
    </div>
    <div class="right"></div>

    <div id="falling-images-container"></div>
  </body>
</html>
